# Plugins

[build]
publish = "_site"
command = "quarto render && node update-sitemap.js"

[[plugins]]
package = "@algolia/netlify-plugin-crawler"

[plugins.inputs]
branches = ['main']

[[plugins]]
package = "@netlify/plugin-sitemap"

[plugins.inputs]
buildDir = "_site"
prettyURLs = true
trailingSlash = true
changeFreq = "weekly"
priority = 0.7
baseUrl = "https://brainworkup.org"

[[plugins]]
package = "netlify-plugin-inline-critical-css"

[plugins.inputs]
fileFilter = ["*.html"]
directoryFilter = ["!node_modules"]
extract = false
dimensions = [{ width = 414, height = 896 }, { width = 1920, height = 1080 }]

# Redirects

# Scheme-agnostic redirects for all domains to the main site
[[redirects]]
from = "/*"
to = "https://brainworkup.org/:splat"
status = 301
force = true

# Specific redirects
[[redirects]]
from = "/docs/projects/"
to = "/"
status = 301
force = true

[[redirects]]
from = "/docs/faq/"
to = "/faq"
status = 301
force = true

[[redirects]]
from = "/docs/pediatric-neuropsychology/"
to = "/pediatric-neuropsychology"
status = 301
force = true

[[redirects]]
from = "/resources/cv.pdf"
to = "/joey-trampush/cv.pdf"
status = 301
force = true

[[redirects]]
from = "https://brainworkup.org/forensic-neuropsychology/trampush-joey_forensic-neuropsych_fee-schedule_2023-2024.pdf"
to = "https://brainworkup.org/forensic-neuropsychology/jwt_forensic_neuropsychology_fee_schedule_2023-2024.pdf"
status = 301
force = true
